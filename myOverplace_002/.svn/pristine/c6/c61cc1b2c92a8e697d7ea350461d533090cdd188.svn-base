angular.module("recensioni.controllers",[]).controller("recensioniCtrl",["$scope","$timeout","Recensioni",function(o,e,n){o.recensioni_list=[],o.isAvailable=!0,o.loadMoreList=function(){n.loadMore().then(function(e){o.recensioni_list=e,o.isAvailable=n.getMoreStatus(),o.$broadcast("scroll.infiniteScrollComplete")},function(){$cordovaToast.show("Attenzione! Si Ã¨ verificato un errore durante il caricamento","short","bottom"),o.$broadcast("scroll.infiniteScrollComplete")})},o.refresh=function(){n.refreshList().then(function(e){o.recensioni_list=e,o.isAvailable=n.getMoreStatus(),o.$broadcast("scroll.refreshComplete")},function(){$cordovaToast.show("Errore nel recupero delle recensioni!","short","bottom"),o.$broadcast("scroll.refreshComplete")})}}]).controller("recensioniDetailCtrl",["$scope","$stateParams","$ionicLoading","Recensioni",function(o,e,n,i){o.recensione=i.get(e.id),o.reply=function(e){n.show({template:"<ion-spinner></ion-spinner>",noBackdrop:!1}),i.reply(o.recensione,e).then(function(e){n.hide(),o.recensione.risposta=e,$cordovaToast.show("Risposta inserita con successo","short","bottom")},function(){n.hide(),$cordovaToast.show("Errore inserimento risposta","short","bottom")})}}]);